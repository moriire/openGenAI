import{H as b,l as x,r as c,m as f,p as w,f as i,g as o,F as I,h as k,z as y,A as C,G as S,e as d,t as g,J as v,E as A,v as V,q as B,s as j}from"./index-3-wRPirp.js";import"./moment-Cl4UOzQZ.js";import{u as E}from"./counter-q0zURu_Y.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=b("chat",()=>{let e;const a=x(),l=E(),s=c(!1),h=c(0),u=c(""),t=c(""),n=c(""),_=f(),p=c([{role:"system",content:"I am your AI chat assistant. I can help as much as I can."}]);return{conversations:p,getChat:async()=>{s.value=!0,t.value=u.value,p.value.push({role:"user",content:t.value}),u.value="",e=new AbortController;const r=e.signal;try{const m=await w.post("https://moriire-opengenai.hf.space/llm/chat/",{question:p.value,temperature:l.modelParams.temperature,top_k:l.modelParams.top_k,n_ctx:l.modelParams.n_ctx,seed:l.modelParams.seed},{signal:r});n.value=m.data.choices[0].message.content,p.value.push({role:"system",content:n.value})}catch(m){console.log(m),m.response.status===401&&(_.logout(),a.push("/auth/logim"))}finally{s.value=!1}},msg:t,prompt:u,response:n,disable:s,clearOutput:async()=>{n.value="",alert("cleared!!!")},copyOutput:()=>{let r=document.getElementById("cop");r.select(),navigator.clipboard.writeText(r.value),alert("Copied to clipboard")},stopGen:()=>{e&&(e.abort(),alert("Chat Aborted!!!"))},copyQ:()=>{let r=document.getElementById("prompt-msg");r.select(),navigator.clipboard.writeText(r.value),alert("Copied to clipboard")},total_duration:h}}),T={setup(){return{chat:P()}}},G=e=>(B("data-v-3c944805"),e=e(),j(),e),N={class:"row justify-content-center"},q={style:{height:"75vh","overflow-y":"auto"},class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 position-sticky sticky-bottom .start-50 .bottom-0 .translate-middle-x"},D={key:0,class:"row justify-content-start my-3 mx-2 .input-group"},F={id:"system",class:"col-lg-8 col-md-10 col-sm-10 col-xs-12 bg-warning .rounded-pill px-4 py-3"},K={key:1,class:"row justify-content-end my-3 mx-2 .input-group"},Q={id:"user",class:"col-lg-6 col-md-7 col-sm-8 col-xs-9 bg-light .rounded-pill px-4 py-3"},z={class:"spinner-border spinner-border-sm","aria-hidden":"true"},H={class:"row justify-content-center .align-items-center sticky-bottom .start-50 .bottom-0 .translate-middle-x"},J={class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 .fixed-bottom .start-50 .bottom-0 .translate-middle-x"},L={class:"input-group my-4"},M=G(()=>o("i",{class:"bi bi-play-fill"},null,-1)),R=[M];function U(e,a,l,s,h,u){return d(),i("div",N,[o("div",q,[(d(!0),i(I,null,k(s.chat.conversations,(t,n)=>(d(),i("div",{key:n,class:"responsive"},[t.role=="system"?(d(),i("div",D,[o("div",F,g(t.content),1)])):v("",!0),t.role=="user"?(d(),i("div",K,[o("div",Q,[y(o("span",z,null,512),[[A,s.chat.disable]]),V(" "+g(t.content),1)])])):v("",!0)]))),128))]),o("div",H,[o("div",J,[o("div",L,[y(o("input",{class:"form-control","aria-describedby":"basic",placeholder:"I am your AI chat assistant. I can help as much as I can.","onUpdate:modelValue":a[0]||(a[0]=t=>s.chat.prompt=t),onKeyup:a[1]||(a[1]=S(t=>s.chat.getChat(),["enter"]))},null,544),[[C,s.chat.prompt]]),o("button",{class:"input-group-text bg-warning text-dark",id:"basic",onClick:a[2]||(a[2]=t=>s.chat.getChat())},R)])])])])}const at=O(T,[["render",U],["__scopeId","data-v-3c944805"]]);export{at as default};
