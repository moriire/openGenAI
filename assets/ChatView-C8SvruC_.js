import{_ as b,p as f,m as x,q as y,l as w,r,f as i,g as o,F as k,h as I,A as g,B as C,I as A,J as S,e as d,t as _,H as T,x as P,s as B,v as O}from"./index-D9ufVuxt.js";import{T as V}from"./index-5J6mJgJT.js";const j={setup(){let s;const a=f(),h=x();y.defaults.headers.common.Authorization=`Bearer ${a.token}`;const t=w(),u=r(!1),v=r(0),e=r(""),l=r(""),c=r(""),m=r([{role:"system",content:"You are an AI Physician. You are created to replace human in healthcare. Only answer health or medical questions. You are a helpful medical AI chat assistant. Help as much as you can.Also continuously ask for possible symptoms in order to arrive at a conclusive ailment or sickness and possible solutions.Remember, response in English."}]);return{conversations:m,formatTime:n=>S(n).seconds(),glob:t,getChat:async()=>{u.value=!0,l.value=e.value,m.value.push({role:"user",content:l.value}),e.value="",s=new AbortController;const n=s.signal;try{const p=await y.post("https://moriire-opengenai.hf.space/llm/chat/",{question:m.value,temperature:t.modelParams.temperature,top_k:t.modelParams.top_k,n_ctx:t.modelParams.n_ctx,seed:t.modelParams.seed},{signal:n});c.value=p.data.choices[0].message.content,m.value.push({role:"system",content:c.value})}catch(p){console.log(p),p.response.status===401&&(a.logout(),h.push("/auth/logim"))}finally{u.value=!1}},msg:l,prompt:e,response:c,disable:u,clearOutput:async()=>{c.value="",alert("cleared!!!")},copyOutput:()=>{let n=document.getElementById("cop");n.select(),navigator.clipboard.writeText(n.value),alert("Copied to clipboard")},stopGen:()=>{s&&(s.abort(),alert("Chat Aborted!!!"))},copyQ:()=>{let n=document.getElementById("prompt-msg");n.select(),navigator.clipboard.writeText(n.value),alert("Copied to clipboard")},tts:()=>{V(c.value||"nothing to talk about",{language:"english",volume:t.voiceParams.vol,rate:t.voiceParams.rate,pitch:t.voiceParams.pitch})},total_duration:v}}},E=s=>(B("data-v-877fa175"),s=s(),O(),s),q={class:"row justify-content-center"},D={style:{height:"80vh","overflow-y":"auto"},class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 position-sticky sticky-bottom .start-50 .bottom-0 .translate-middle-x"},H={key:0,class:"row justify-content-start my-3 mx-2 .input-group"},Y={id:"system",class:"col-lg-6 col-md-7 col-sm-8 col-xs-9 bg-warning .rounded-pill px-4 py-3"},F={key:1,class:"row justify-content-end my-3 mx-2 .input-group"},G={id:"user",class:"col-lg-6 col-md-7 col-sm-8 col-xs-9 bg-light .rounded-pill px-4 py-3"},K={class:"spinner-border spinner-border-sm","aria-hidden":"true"},N={class:"row justify-content-center .align-items-center sticky-bottom .start-50 .bottom-0 .translate-middle-x"},Q={class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 .fixed-bottom .start-50 .bottom-0 .translate-middle-x"},R={class:"input-group my-4"},z=E(()=>o("i",{class:"bi bi-play-fill"},null,-1)),J=[z];function L(s,a,h,t,u,v){return d(),i("div",q,[o("div",D,[(d(!0),i(k,null,I(t.conversations.slice(1),(e,l)=>(d(),i("div",{key:l,class:"responsive"},[e.role==="system"?(d(),i("div",H,[o("div",Y,_(e.content),1)])):(d(),i("div",F,[o("div",G,[g(o("span",K,null,512),[[T,t.disable]]),P(" "+_(e.content),1)])]))]))),128))]),o("div",N,[o("div",Q,[o("div",R,[g(o("input",{class:"form-control","aria-describedby":"basic",placeholder:"I am your AI Doctor. How are you feeling?","onUpdate:modelValue":a[0]||(a[0]=e=>t.prompt=e),onKeyup:a[1]||(a[1]=A(e=>t.getChat(),["enter"]))},null,544),[[C,t.prompt]]),o("button",{class:"input-group-text bg-warning text-dark",id:"basic",onClick:a[2]||(a[2]=e=>t.getChat())},J)])])])])}const st=b(j,[["render",L],["__scopeId","data-v-877fa175"]]);export{st as default};
