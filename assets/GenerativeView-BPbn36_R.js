import{_ as h,m as y,p as f,q as _,l as w,r,f as x,g as o,A as l,H as i,t as v,B as k,I as C,F as I,J as S,e as T,s as O,v as A}from"./index-D9ufVuxt.js";import{T as B}from"./index-5J6mJgJT.js";const P={setup(){let n;const e=y(),m=f();_.defaults.headers.common.Authorization=`Bearer ${m.token}`;const t=w(),d=r(!1),g=r(0),s=r(""),b=r(""),p=r("");return{formatTime:a=>S(a).seconds(),glob:t,getChat:async()=>{d.value=!0,b.value=s.value,s.value="",n=new AbortController;const a=n.signal;try{const u=await _.post("https://moriire-opengenai.hf.space/llm/generate",{question:b.value,temperature:t.modelParams.temperature,top_k:t.modelParams.top_k,n_ctx:t.modelParams.n_ctx,seed:t.modelParams.seed},{signal:a});p.value=u.data.choices[0].message.content}catch(u){console.log(u),u.response.status===401&&(m.logout(),e.push("/auth/logim"))}finally{d.value=!1}},msg:b,prompt:s,response:p,disable:d,clearOutput:async()=>{p.value="",alert("cleared!!!")},copyOutput:()=>{let a=document.getElementById("cop");a.select(),navigator.clipboard.writeText(a.value),alert("Copied to clipboard")},stopGen:()=>{n&&(n.abort(),alert("Chat Aborted!!!"))},copyQ:()=>{let a=document.getElementById("prompt-msg");a.select(),navigator.clipboard.writeText(a.value),alert("Copied to clipboard")},tts:()=>{B(p.value||"nothing to talk about",{language:"english",volume:t.voiceParams.vol,rate:t.voiceParams.rate,pitch:t.voiceParams.pitch})},total_duration:g}}},c=n=>(O("data-v-7b3726ee"),n=n(),A(),n),G={class:"row justify-content-center .align-items-center",style:{height:"80vh"}},V={class:"row justify-content-center .align-items-center position-sticky sticky-bottom .start-50 .bottom-0 .translate-middle-x"},j={class:"col-lg-10 col-md-10 col-sm-10 col-xs-12"},D={class:"row justify-content-between my-2"},E={class:"col-8"},F=c(()=>o("i",{class:"bi bi-stop-fill"},null,-1)),q=[F],H=c(()=>o("i",{class:"bi bi-mic-fill"},null,-1)),K=[H],Q=c(()=>o("i",{class:"bi bi-clipboard"},null,-1)),z=[Q],J={class:"col-4"},M={class:"input-group"},N={class:"input-group-text bg-warning text-dark",id:"basic"},R=c(()=>o("span",{class:"spinner-border spinner-border-sm","aria-hidden":"true"},null,-1)),U=[R],L=c(()=>o("i",{class:"bi bi-play-fill"},null,-1)),W=[L];function X(n,e,m,t,d,g){return T(),x(I,null,[o("div",G,[l(o("div",{id:"gensys",class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 mx-2 my-2 fs-4"},v(t.response),513),[[i,t.response]])]),o("div",V,[o("div",j,[o("div",D,[o("div",E,[l(o("button",{class:"btn btn-outline-warning",onClick:e[0]||(e[0]=(...s)=>t.stopGen&&t.stopGen(...s))},q,512),[[i,t.disable]]),l(o("button",{class:"btn btn-outline-warning",onClick:e[1]||(e[1]=s=>t.tts())},K,512),[[i,t.response]]),l(o("button",{"data-bs-toggle-tooltip":"Copy AI response",class:"btn btn-outline-warning",onClick:e[2]||(e[2]=(...s)=>t.copyOutput&&t.copyOutput(...s))},z,512),[[i,t.response]]),l(o("button",{class:"btn btn-outline-warning",onClick:e[3]||(e[3]=(...s)=>t.clearOutput&&t.clearOutput(...s))},"Clear",512),[[i,t.response]])]),o("div",J,[l(o("h2",{class:"text-light text-end"},v(t.total_duration.toFixed(2))+" T/s ",513),[[i,t.response]])])]),o("div",M,[l(o("button",N,U,512),[[i,t.disable]]),l(o("input",{class:"form-control","aria-describedby":"basic",placeholder:"I am your AI Doctor. How are you feeling?","onUpdate:modelValue":e[4]||(e[4]=s=>t.prompt=s),onKeyup:e[5]||(e[5]=C(s=>t.getChat(),["enter"]))},null,544),[[k,t.prompt]]),o("button",{class:"input-group-text bg-warning text-dark",id:"basic",onClick:e[6]||(e[6]=s=>t.getChat())},W)])])])],64)}const lt=h(P,[["render",X],["__scopeId","data-v-7b3726ee"]]);export{lt as default};
