import{G as b,I as x,r as c,l as f,m as w,f as i,g as o,F as I,h as k,y,z as C,E as S,e as d,t as g,J as v,D as V,s as A,p as B,q as j}from"./index-DdhCVqmy.js";import{u as E}from"./moment-gO54Ui3N.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P=b("chat",()=>{let e;const a=x(),l=E(),s=c(!1),h=c(0),u=c(""),t=c(""),n=c(""),_=f(),p=c([{role:"system",content:"I am your AI chat assistant. I can help as much as I can."}]);return{conversations:p,getChat:async()=>{s.value=!0,t.value=u.value,p.value.push({role:"user",content:t.value}),u.value="",e=new AbortController;const r=e.signal;try{const m=await w.post("https://moriire-opengenai.hf.space/llm/chat/",{question:p.value,temperature:l.modelParams.temperature,top_k:l.modelParams.top_k,n_ctx:l.modelParams.n_ctx,seed:l.modelParams.seed},{signal:r});n.value=m.data.choices[0].message.content,p.value.push({role:"system",content:n.value})}catch(m){console.log(m),m.response.status===401&&(_.logout(),a.push("/auth/logim"))}finally{s.value=!1}},msg:t,prompt:u,response:n,disable:s,clearOutput:async()=>{n.value="",alert("cleared!!!")},copyOutput:()=>{let r=document.getElementById("cop");r.select(),navigator.clipboard.writeText(r.value),alert("Copied to clipboard")},stopGen:()=>{e&&(e.abort(),alert("Chat Aborted!!!"))},copyQ:()=>{let r=document.getElementById("prompt-msg");r.select(),navigator.clipboard.writeText(r.value),alert("Copied to clipboard")},total_duration:h}}),T={setup(){return{chat:P()}}},D=e=>(B("data-v-3c944805"),e=e(),j(),e),G={class:"row justify-content-center"},N={style:{height:"75vh","overflow-y":"auto"},class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 position-sticky sticky-bottom .start-50 .bottom-0 .translate-middle-x"},q={key:0,class:"row justify-content-start my-3 mx-2 .input-group"},F={id:"system",class:"col-lg-8 col-md-10 col-sm-10 col-xs-12 bg-warning .rounded-pill px-4 py-3"},K={key:1,class:"row justify-content-end my-3 mx-2 .input-group"},Q={id:"user",class:"col-lg-6 col-md-7 col-sm-8 col-xs-9 bg-light .rounded-pill px-4 py-3"},z={class:"spinner-border spinner-border-sm","aria-hidden":"true"},J={class:"row justify-content-center .align-items-center sticky-bottom .start-50 .bottom-0 .translate-middle-x"},L={class:"col-lg-10 col-md-10 col-sm-10 col-xs-12 .mx-3 my-2 .fixed-bottom .start-50 .bottom-0 .translate-middle-x"},M={class:"input-group my-4"},R=D(()=>o("i",{class:"bi bi-play-fill"},null,-1)),U=[R];function H(e,a,l,s,h,u){return d(),i("div",G,[o("div",N,[(d(!0),i(I,null,k(s.chat.conversations,(t,n)=>(d(),i("div",{key:n,class:"responsive"},[t.role=="system"?(d(),i("div",q,[o("div",F,g(t.content),1)])):v("",!0),t.role=="user"?(d(),i("div",K,[o("div",Q,[y(o("span",z,null,512),[[V,s.chat.disable]]),A(" "+g(t.content),1)])])):v("",!0)]))),128))]),o("div",J,[o("div",L,[o("div",M,[y(o("input",{class:"form-control","aria-describedby":"basic",placeholder:"I am your AI chat assistant. I can help as much as I can.","onUpdate:modelValue":a[0]||(a[0]=t=>s.chat.prompt=t),onKeyup:a[1]||(a[1]=S(t=>s.chat.getChat(),["enter"]))},null,544),[[C,s.chat.prompt]]),o("button",{class:"input-group-text bg-warning text-dark",id:"basic",onClick:a[2]||(a[2]=t=>s.chat.getChat())},U)])])])])}const ot=O(T,[["render",H],["__scopeId","data-v-3c944805"]]);export{ot as default};
